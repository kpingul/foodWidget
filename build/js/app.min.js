!function(){"use strict";angular.module("myApp",["ui.router"])}(),function(){"use strict";angular.module("myApp").config(["$urlRouterProvider","$stateProvider",function(t,e){t.when("","/"),e.state("home",{url:"/",templateUrl:"src/js/app/MainFeed/photofeed.tpl.html",controller:"MainCtrl",controllerAs:"vm",resolve:{HighestRated:["dataService",function(t){function e(t){return t}return t.getHighestRated().then(function(t){return t})["catch"](e)}],MainFeed:["dataService",function(t){function e(t){return t}function n(t){return t}return t.getFeed().then(e)["catch"](n)}],RecentFeed:["dataService",function(t){function e(t){return t}function n(t){return t}return t.getRecentFeed().then(e)["catch"](n)}]}}).state("photos",{url:"/photos/:id",templateUrl:"src/js/app/SingleFeed/singlefeedphoto.tpl.html",controller:"PhotoCtrl",controllerAs:"vm",resolve:{SingleFeed:["dataService","$stateParams","$state",function(t,e,n){var o;return t.getFeed().then(function(t){return t.data.data.map(function(t,n){t.id===e.id&&(o=t)}),o},function(t){return t})}]}})}])}(),function(){"use strict";function t(t,e,n,o,a){function i(t,e,n){a.getHighestRated(t,e,n).then(r)["catch"](c)}function r(t){u.highestRatedRestaurant=t,console.log(u.highestRatedRestaurant),console.log(u.highestRated)}function c(t){console.log(t)}var u=this;u.images=e,u.feed=n,u.highestRated=o[1],u.highestRatedRestaurant={},i(u.highestRated.location.latitude,u.highestRated.location.longitude,u.highestRated.location.name)}angular.module("myApp").controller("MainCtrl",t),t.$inject=["$scope","RecentFeed","MainFeed","HighestRated","YelpService"]}(),function(){"use strict";angular.module("myApp").directive("scroll",["$window",function(t){return{restrict:"A",link:function(e,n,o){{var a=$(".navbar");$(".dropdown-menu")}$(t).width()>768?$(t).scroll(function(){$(t).scrollTop()<=25?a.removeClass("navbar-scroll"):a.addClass("navbar-scroll")}):a.addClass("navbar-scroll")}}}])}(),function(){"use strict";angular.module("myApp").filter("captionfilter",function(){return function(t){if(void 0!==t){var e=t.split(" ").filter(function(t,e){return"#"!==t[0]});return e.join(" ")}}})}(),function(){"use strict";angular.module("myApp").factory("dataService",["$http",function(t){function e(){function e(t){return a(t)}return t.jsonp(l).then(e)["catch"](c)}function n(){function e(t){return i(t)}return t.jsonp(l).then(e)["catch"](c)}function o(){function e(t){return r(t)}return t.jsonp(l).then(e)["catch"](c)}function a(t){var e=[];return t.data.data.map(function(t,n){t.likes.count>7&&e.push(t)}),e}function i(t){var e=[];return t.data.data.map(function(t,n){e.push(t)}),e}function r(t){var e=[];return t.data.data.map(function(t,n){e.length>=3||e.push(t)}),e}function c(t){return t}var u={getFeed:n,getRecentFeed:o,getHighestRated:e},l="https://api.instagram.com/v1/users/2078950030/media/recent?access_token=2078950030.1f5c74e.fa614065af4e484d92b96e91332850b0&callback=JSON_CALLBACK&count=30";return u}])}(),function(){"use strict";angular.module("myApp").filter("timefilter",function(){return function(t){var e=["January","Febuary","March","April","May","June","July","August","September","October","November","December]"],n=new Date(parseInt(1e3*t)),o=n.getMonth()+1,a=n.getDate(),i=n.getFullYear();return e[o-1]+" "+a+" "+i}})}(),function(){"use strict";angular.module("myApp").factory("mapService",function(){function t(t,e,n,o){this.lat=t,this.lng=e,this.url=decodeURI(n),this.location=o}function e(){var t=new google.maps.LatLng(this.lat,this.lng),e={center:t,zoom:14},o=new google.maps.Map(document.getElementById("map-canvas"),e),a={url:this.url,scaledSize:new google.maps.Size(60,60),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(0,0)},i=new google.maps.Marker({position:t,map:o,animation:google.maps.Animation.DROP,icon:a}),r=new google.maps.InfoWindow({content:this.location});r.open(o,i),google.maps.event.addListener(i,"click",n)}function n(){marker.setAnimation(null!=marker.getAnimation()?null:google.maps.Animation.BOUNCE)}var o={setMap:t,getMap:e};return o})}(),function(){"use strict";angular.module("myApp").factory("YelpService",["$http",function(t){function e(e,a,c){return r.name=c,console.log(c),t.get("https://maps.googleapis.com/maps/api/geocode/json?latlng="+e+","+a+"&key=AIzaSyDlRrrjWcF9m_xqqDyPeVbEf8f2tFuUDjk").then(n).then(o)["catch"](i)}function n(t){var e="";return t.data.results.map(function(t,n){t.address_components&&t.address_components.map(function(t,n){t.types.length&&t.types.forEach(function(n,o){return"locality"==n.toLowerCase()?void(e=t.long_name):void 0})})}),e}function o(e){return t.get("api/yelp/business/"+r.name.split(" ").join("-")+"-"+e.split(" ").join("-")).then(a)["catch"](i)}function a(t){return t.data}function i(t){return t}var r={getHighestRated:e};return r.name="",r}])}(),function(){"use strict";angular.module("myApp").directive("activateMap",["mapService","$timeout","usSpinnerService",function(t,e,n){return{restrict:"A",link:function(o,a,i){a.on("click",function(o){n.spin("maploadingSpinner"),e(function(){t.getMap(),n.stop("maploadingSpinner")},1e3)})}}}])}(),function(){"use strict";function t(t,e,n){var o=this;o.photo=n,o.latitude=n.location.latitude,o.longitide=n.location.longitude,o.imageUrl=n.images.low_resolution.url,o.locationName=n.location.name,e.setMap(o.latitude,o.longitide,o.imageUrl,o.locationName)}angular.module("myApp").controller("PhotoCtrl",t),t.$inject=["$scope","mapService","SingleFeed"]}();